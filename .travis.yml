env:
  matrix:
    - TARGET_PLATFORM=indigo
    - TARGET_PLATFORM=juno
    - TARGET_PLATFORM=kepler
    - TARGET_PLATFORM=luna

before_script:
  - wget http://apache.mirror.anlx.net/maven/maven-3/3.2.1/binaries/apache-maven-3.2.1-bin.tar.gz
  - tar -zxf apache-maven-3.2.1-bin.tar.gz
  - sudo apt-get update
  - echo yes | sudo apt-get install python-software-properties
  - echo yes | sudo add-apt-repository ppa:webupd8team/java
  - sudo apt-get update
  - echo debconf shared/accepted-oracle-license-v1-1 select true | sudo debconf-set-selections
  - echo debconf shared/accepted-oracle-license-v1-1 seen true |  sudo debconf-set-selections
  - echo yes | sudo apt-get install --force-yes oracle-java7-installer
  - sh -e /etc/init.d/xvfb start
  - export DISPLAY=:99.0

script: $PWD/apache-maven-3.2.1/bin/mvn -e install -Dtycho.showEclipseLog=true -Dtarget.platform=$TARGET_PLATFORM
